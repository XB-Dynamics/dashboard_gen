<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูุดุงุช ูุงูู</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../../assets/css/chat.css">

</head>
<body>
    <div class="app-container">
        <!-- ุดุฑูุท ุงูุนููุงู -->
        <div class="header">
            <div class="header-title">ุงูุดุงุช ูุงูู</div>
            <div class="header-actions">
                <i class="fas fa-search"></i>
                <i class="fas fa-ellipsis-v"></i>
            </div>
        </div>

        <!-- ููุทูุฉ ุงููุญุงุฏุซุฉ ุงูุฑุฆูุณูุฉ -->
        <div class="chat-container">
            <!-- ูุงุฆูุฉ ุงููุญุงุฏุซุงุช -->
            <div class="chat-list-container">
                <div class="chat-search">
                    <input type="text" placeholder="ุจุญุซ ุฃู ูุญุงุฏุซุฉ ุฌุฏูุฏุฉ">
                </div>
                <div class="chat-list">
                    <!-- ูุญุงุฏุซุฉ 1 -->
                    <div class="chat-item active" data-chat="tech-support">
                        <img src="https://via.placeholder.com/50" alt="ุตูุฑุฉ ุงููุณุชุฎุฏู" class="chat-item-avatar">
                        <div class="chat-item-info">
                            <div class="chat-item-name">ุงูุฏุนู ุงูููู</div>
                            <div class="chat-item-last-message">ุงูุงุฎุชุจุงุฑ ุณูููู ููู 20 ููููู...</div>
                        </div>
                        <div class="chat-item-time">10:33 ุต</div>
                        <div class="chat-item-unread">3</div>
                    </div>
                    
                    <!-- ูุญุงุฏุซุฉ 2 -->
                    <div class="chat-item" data-chat="teacher">
                        <img src="https://via.placeholder.com/50" alt="ุตูุฑุฉ ุงููุณุชุฎุฏู" class="chat-item-avatar">
                        <div class="chat-item-info">
                            <div class="chat-item-name">ุงูุฃุณุชุงุฐ ูุญูุฏ</div>
                            <div class="chat-item-last-message">ูุง ุชูุณู ุญู ุงููุงุฌุจ...</div>
                        </div>
                        <div class="chat-item-time">ุฃูุณ</div>
                    </div>
                    
                    <!-- ูุญุงุฏุซุฉ 3 -->
                    <div class="chat-item" data-chat="group">
                        <img src="https://via.placeholder.com/50" alt="ุตูุฑุฉ ุงููุณุชุฎุฏู" class="chat-item-avatar">
                        <div class="chat-item-info">
                            <div class="chat-item-name">ุงููุฌููุนุฉ ุงูุนุงูุฉ</div>
                            <div class="chat-item-last-message">ุนูู: ูุฑุญุจุงู ุจุงูุฌููุน...</div>
                        </div>
                        <div class="chat-item-time">22/06/2023</div>
                    </div>
                    
                    <!-- ูุญุงุฏุซุฉ 4 -->
                    <div class="chat-item" data-chat="classmates">
                        <img src="https://via.placeholder.com/50" alt="ุตูุฑุฉ ุงููุณุชุฎุฏู" class="chat-item-avatar">
                        <div class="chat-item-info">
                            <div class="chat-item-name">ุฒููุงุก ุงูุฏุฑุงุณุฉ</div>
                            <div class="chat-item-last-message">ุณุงุฑุฉ: ูู ูุนุฑู ุญู ุงููุณุฃูุฉ...</div>
                        </div>
                        <div class="chat-item-time">20/06/2023</div>
                    </div>
                    
                    <!-- ูุญุงุฏุซุฉ 5 -->
                    <div class="chat-item" data-chat="admin">
                        <img src="https://via.placeholder.com/50" alt="ุตูุฑุฉ ุงููุณุชุฎุฏู" class="chat-item-avatar">
                        <div class="chat-item-info">
                            <div class="chat-item-name">ุฅุฏุงุฑุฉ ุงููุฏุฑุณุฉ</div>
                            <div class="chat-item-last-message">ุฅุนูุงู ูุงู ุจุฎุตูุต ุงูุงุฎุชุจุงุฑุงุช...</div>
                        </div>
                        <div class="chat-item-time">18/06/2023</div>
                    </div>
                </div>
            </div>

            <!-- ููุทูุฉ ุงูุฑุณุงุฆู -->
            <div class="chat-messages-container" id="messagesContainer">
                <!-- ุดุฑูุท ูุนูููุงุช ุงููุญุงุฏุซุฉ -->
                <div class="chat-info-bar">
                    <i class="fas fa-arrow-left back-to-chats"></i>
                    <img src="https://via.placeholder.com/40" alt="ุตูุฑุฉ ุงููุณุชุฎุฏู" class="chat-info-avatar">
                    <div class="chat-info-name">ุงูุฏุนู ุงูููู</div>
                    <div class="chat-info-actions">
                        <i class="fas fa-search"></i>
                        <i class="fas fa-ellipsis-v"></i>
                    </div>
                </div>

                <!-- ููุทูุฉ ุนุฑุถ ุงูุฑุณุงุฆู -->
                <div class="messages-container" id="messagesList">
                    <div style="text-align: center; margin-bottom: 20px; color: var(--gray-color);">
                        <small>ุงููููุ 10:30 ุต</small>
                    </div>
                    
                    <!-- ุฑุณุงูุฉ ูุงุฑุฏุฉ -->
                    <div class="message received">
                        <div class="message-content">
                            <img src="https://via.placeholder.com/32" alt="ุตูุฑุฉ ุงููุฑุณู" class="message-avatar">
                            <div class="message-bubble">
                                <p>ูุฑุญุจุงู ุฃุญูุฏุ ููู ูููููู ูุณุงุนุฏุชู ุงููููุ</p>
                            </div>
                        </div>
                        <div class="message-time">10:30 ุต</div>
                    </div>
                    
                    <!-- ุฑุณุงูุฉ ุตุงุฏุฑุฉ -->
                    <div class="message sent">
                        <div class="message-content">
                            <div class="message-bubble">
                                <p>ุฃุฑูุฏ ุงูุงุณุชูุณุงุฑ ุนู ููุนุฏ ุงูุงุฎุชุจุงุฑ ุงููุงุฏู</p>
                            </div>
                        </div>
                        <div class="message-time">10:31 ุต</div>
                    </div>
                    
                    <!-- ุฑุณุงูุฉ ูุงุฑุฏุฉ -->
                    <div class="message received">
                        <div class="message-content">
                            <img src="https://via.placeholder.com/32" alt="ุตูุฑุฉ ุงููุฑุณู" class="message-avatar">
                            <div class="message-bubble">
                                <p>ุงูุงุฎุชุจุงุฑ ุณูููู ููู 20 ููููู ุงูุณุงุนุฉ 10 ุตุจุงุญุงู ูู ุงููุงุนุฉ ุงูุฑุฆูุณูุฉ</p>
                            </div>
                        </div>
                        <div class="message-time">10:32 ุต</div>
                    </div>

                    <!-- ุฑุณุงูุฉ ุตุงุฏุฑุฉ -->
                    <div class="message sent">
                        <div class="message-content">
                            <div class="message-bubble">
                                <p>ุดูุฑุงู ูู ุนูู ุงููุนูููุฉ!</p>
                            </div>
                        </div>
                        <div class="message-time">10:32 ุต</div>
                    </div>

                    <!-- ุฑุณุงูุฉ ูุงุฑุฏุฉ -->
                    <div class="message received">
                        <div class="message-content">
                            <img src="https://via.placeholder.com/32" alt="ุตูุฑุฉ ุงููุฑุณู" class="message-avatar">
                            <div class="message-bubble">
                                <p>ูู ูุฏูู ุฃู ุงุณุชูุณุงุฑุงุช ุฃุฎุฑูุ</p>
                            </div>
                        </div>
                        <div class="message-time">10:33 ุต</div>
                    </div>
                </div>

                <!-- ุดุฑูุท ุฅุฏุฎุงู ุงูุฑุณุงุฆู -->
                <div class="message-input-container">
                    <div class="message-input-actions">
                        <i class="fas fa-smile"></i>
                        <i class="fas fa-paperclip"></i>
                    </div>
                    <input type="text" class="message-input" placeholder="ุงูุชุจ ุฑุณุงูุฉ..." id="messageInput">
                    <div class="message-send-btn" id="sendMessageBtn">
                        <i class="fas fa-paper-plane"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ุนูุฏ ุชุญููู ุงูุตูุญุฉุ ุฌุนู ุงูุฑุณุงุฆู ูุงุจูุฉ ููุชูุฑูุฑ ูุขุฎุฑ ุฑุณุงูุฉ
        window.addEventListener('load', function() {
            const messagesList = document.getElementById('messagesList');
            messagesList.scrollTop = messagesList.scrollHeight;
        });

        // ุฅุฑุณุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ
        document.getElementById('sendMessageBtn').addEventListener('click', sendMessage);
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // ุฅุถุงูุฉ ุฏุนู ูุฅุฏุฎุงู ุงูุฅูููุฌู
        document.querySelector('.fa-smile').addEventListener('click', function() {
            const input = document.getElementById('messageInput');
            input.value += '๐'; // ููููู ุงุณุชุจุฏุงู ุงูุฅูููุฌู ุจุฃู ุฑูุฒ ุขุฎุฑ
            input.focus();
        });

        // ุฅุถุงูุฉ ุฏุนู ูุฑูุน ุงููููุงุช
        document.querySelector('.fa-paperclip').addEventListener('click', function() {
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = 'image/*';
            fileInput.addEventListener('change', function() {
                const file = fileInput.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const messagesList = document.getElementById('messagesList');
                        const messageDiv = document.createElement('div');
                        messageDiv.className = 'message sent';
                        messageDiv.innerHTML = `
                            <div class="message-content">
                                <div class="message-bubble">
                                    <img src="${e.target.result}" alt="Uploaded Image" style="max-width: 100%; border-radius: var(--border-radius);">
                                </div>
                            </div>
                            <div class="message-time">${getCurrentTime()}</div>
                        `;
                        messagesList.appendChild(messageDiv);
                        messagesList.scrollTop = messagesList.scrollHeight;
                    };
                    reader.readAsDataURL(file);
                }
            });
            fileInput.click();
        });

        // ุฌุนู ุดุฑูุท ุงูุจุญุซ ูุนูู
        document.querySelector('.chat-search input').addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            document.querySelectorAll('.chat-item').forEach(item => {
                const chatName = item.querySelector('.chat-item-name').textContent.toLowerCase();
                if (chatName.includes(searchTerm)) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        });

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const messageText = input.value.trim();

            if (messageText) {
                const messagesList = document.getElementById('messagesList');

                // ุฅูุดุงุก ุนูุตุฑ ุงูุฑุณุงูุฉ ุงููุฑุณูุฉ
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message sent';
                messageDiv.innerHTML = `
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>${messageText}</p>
                        </div>
                    </div>
                    <div class="message-time">${getCurrentTime()}</div>
                `;

                messagesList.appendChild(messageDiv);
                input.value = '';

                // ุงูุชูุฑูุฑ ูุฃุณูู ูุนุฑุถ ุงูุฑุณุงูุฉ ุงูุฌุฏูุฏุฉ
                messagesList.scrollTop = messagesList.scrollHeight;

                // ูุญุงูุงุฉ ุงูุฑุฏ ุงูุชููุงุฆู ุจุนุฏ ุซุงููุฉ ูุงุญุฏุฉ
                setTimeout(() => {
                    const replies = [
                        "ูุนูุ ููู ูููููู ูุณุงุนุฏุชูุ",
                        "ูู ูุฏูู ุฃู ุงุณุชูุณุงุฑุงุช ุฃุฎุฑูุ",
                        "ุดูุฑุงู ูู ุนูู ุฑุณุงูุชู!",
                        "ุณุฃุญุงูู ุงูุฑุฏ ุนููู ูู ุฃูุฑุจ ููุช ูููู.",
                        "ูู ุชุฑูุฏ ุฃู ูุนูููุงุช ุฅุถุงููุฉุ"
                    ];

                    const randomReply = replies[Math.floor(Math.random() * replies.length)];

                    const replyDiv = document.createElement('div');
                    replyDiv.className = 'message received';
                    replyDiv.innerHTML = `
                        <div class="message-content">
                            <img src="https://via.placeholder.com/32" alt="ุตูุฑุฉ ุงููุฑุณู" class="message-avatar">
                            <div class="message-bubble">
                                <p>${randomReply}</p>
                            </div>
                        </div>
                        <div class="message-time">${getCurrentTime()}</div>
                    `;

                    messagesList.appendChild(replyDiv);
                    messagesList.scrollTop = messagesList.scrollHeight;
                }, 1000);
            }
        }

        // ุงูุญุตูู ุนูู ุงูููุช ุงูุญุงูู ุจุชูุณูู ุณุงุนุฉ:ุฏูููุฉ ุต/ู
        function getCurrentTime() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'ู' : 'ุต';
            hours = hours % 12;
            hours = hours ? hours : 12; // ุงูุณุงุนุฉ 0 ุชุตุจุญ 12
            return `${hours}:${minutes} ${ampm}`;
        }

        // ุชุจุฏูู ุงููุญุงุฏุซุงุช ุนูุฏ ุงูููุฑ ุนูู ุฌูุฉ ุงุชุตุงู
        document.querySelectorAll('.chat-item').forEach(item => {
            item.addEventListener('click', function() {
                // ุชุญุฏูุซ ุงูุนูุตุฑ ุงููุดุท ูู ุงููุงุฆูุฉ
                document.querySelectorAll('.chat-item').forEach(i => {
                    i.classList.remove('active');
                });
                this.classList.add('active');
                
                // ุชุญุฏูุซ ุดุฑูุท ูุนูููุงุช ุงููุญุงุฏุซุฉ
                const chatName = this.querySelector('.chat-item-name').textContent;
                document.querySelector('.chat-info-name').textContent = chatName;
                
                // ุชุญุฏูุซ ุตูุฑุฉ ุงููุญุงุฏุซุฉ
                const chatAvatar = this.querySelector('.chat-item-avatar').src;
                document.querySelector('.chat-info-avatar').src = chatAvatar;
                
                // ุนุฑุถ ููุทูุฉ ุงูุฑุณุงุฆู (ููุนุฑุถ ุนูู ุงูุฌูุงู)
                document.getElementById('messagesContainer').classList.add('active');
            });
        });

        // ุฒุฑ ุงูุนูุฏุฉ ูููุงุฆูุฉ (ููุนุฑุถ ุนูู ุงูุฌูุงู)
        document.querySelector('.back-to-chats').addEventListener('click', function() {
            document.getElementById('messagesContainer').classList.remove('active');
        });
    </script>
</body>
</html>